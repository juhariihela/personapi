{"version":3,"sources":["components/Henkilo.js","components/Lista.js","components/LisaaPuhelin.js","components/Filter.js","components/Message.js","services/persons.js","App.js","index.js"],"names":["Henkilo","_ref","person","deletePhone","handleEdit","react_default","a","createElement","key","id","className","name","phone","onClick","value","Lista","persons","filter","list","people","toLowerCase","includes","map","components_Henkilo","filterPeoples","LisaaPuhelin","props","newName","newPhone","handleNameChange","handlePhoneChange","buttonText","editId","onChange","type","Filter","handleFilterChange","Message","message","baseUrl","services_persons","axios","get","newObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhone","_useState7","_useState8","setMessage","_useState9","_useState10","setFilter","_useState11","_useState12","setEditId","useEffect","console","log","personService","then","response","data","catch","error","components_Message","components_Filter","event","target","onSubmit","preventDefault","phoneObject","oldPerson","find","setTimeout","components_LisaaPuhelin","components_Lista","window","srcElement","confirm","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.988d21b8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Henkilo = ({ person, deletePhone, handleEdit }) =>\r\n    <tr key={person.id}>\r\n        <td className=\"cell\">{person.name}</td>\r\n        <td className=\"cell\">{person.phone}</td>\r\n        <td className=\"buttonCell\"><button onClick={handleEdit} value={person.id}>Muokkaa</button></td>\r\n        <td className=\"buttonCell\"><button onClick={deletePhone} value={person.id}>Poista</button></td>\r\n    </tr>\r\n\r\nexport default Henkilo","import React from 'react';\r\nimport Henkilo from './Henkilo'\r\n\r\nconst Lista = ({ persons, filter, deletePhone, handleEdit }) => {\r\n\r\n    const filterPeoples = (filter) => {\r\n        let list = persons\r\n\r\n        if (filter) {\r\n            list = persons.filter(people => {\r\n                return (people.name.toLowerCase().includes(filter.toLowerCase()) || people.phone.includes(filter))\r\n            })\r\n        }\r\n\r\n        return (\r\n            list.map(person => <Henkilo key={person.id} person={person} deletePhone={deletePhone} handleEdit={handleEdit} />)\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <table>\r\n                <tbody>\r\n                    {filterPeoples(filter)}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Lista","import React from 'react';\r\n\r\nconst LisaaPuhelin = (props) => {\r\n    const { newName, newPhone, handleNameChange, handlePhoneChange, editId} = props\r\n\r\n    let buttonText = editId ? 'Tallenna' : 'Lis\\xE4\\xE4'\r\n\r\n    return (\r\n        <div>\r\n            <h3>Lis&auml;&auml; uusi henkil&ouml;</h3>\r\n            <div>\r\n                <div className=\"fieldname\">Nimi:</div> <input\r\n                    value={newName}\r\n                    onChange={handleNameChange}\r\n                    className=\"field\"\r\n                />&nbsp;\r\n                <div className=\"fieldname\">Puhelin:</div> <input\r\n                    value={newPhone}\r\n                    onChange={handlePhoneChange}\r\n                    className=\"field\"\r\n                />\r\n            </div>\r\n            <br/>\r\n            <div>\r\n                <button type=\"submit\">{buttonText}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LisaaPuhelin","import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n\r\n    const { filter, handleFilterChange } = props\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"fieldname\">Rajaa henkil&ouml;it&auml;:</div>\r\n            <input\r\n                value={filter}\r\n                onChange={handleFilterChange}\r\n                className=\"field\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Message = (props) => {\r\n    const { message } = props\r\n\r\n    if (!message)\r\n        return (<div />)\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    remove: remove\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport Lista from './components/Lista'\r\nimport LisaaPuhelin from './components/LisaaPuhelin'\r\nimport Filter from './components/Filter'\r\nimport Message from './components/Message'\r\nimport './index.css'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newPhone, setNewPhone] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [editId, setEditId] = useState('')\r\n\r\n    useEffect(() => {\r\n        console.log('effect')\r\n        personService\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log('getAll error', error)\r\n                setMessage('K\\xE4ytt\\xE4jien hakeminen ep\\xE4onnistui')\r\n            })\r\n    }, [])\r\n\r\n    const savePhone = (event) => {\r\n        event.preventDefault()\r\n\r\n        /*if (!editId && persons.find(person => person.name === newName)) {\r\n            setMessage(`${newName} on jo lis\\xE4tty`)\r\n        } else {*/\r\n\r\n        const phoneObject = {\r\n            name: newName,\r\n            phone: newPhone\r\n        }\r\n\r\n        let oldPerson = persons.find(person => person.name === newName)\r\n\r\n        //if (editId) {\r\n        if (editId || oldPerson) {\r\n            if (editId)\r\n                phoneObject.id = editId\r\n            else\r\n                phoneObject.id = oldPerson.id\r\n\r\n            personService\r\n                .update(phoneObject.id, phoneObject)\r\n                .then(response => {\r\n                    setPersons(persons.map(person => person.id === phoneObject.id ? response.data : person))\r\n                    setNewName('')\r\n                    setNewPhone('')\r\n                    setEditId('')\r\n                    setMessage('P\\xE4ivitettiin ' + phoneObject.name)\r\n                })\r\n                .catch(error => {\r\n                    console.log('update error', error)\r\n                    setMessage('K\\xE4ytt\\xE4j\\xE4 oli jo poistettu kannasta')\r\n                    setPersons(persons.filter(person => person.id !== phoneObject.id))\r\n                })\r\n        } else {\r\n            personService\r\n                .create(phoneObject)\r\n                .then(response => {\r\n                    setPersons(persons.concat(response.data))\r\n                    setNewName('')\r\n                    setNewPhone('')\r\n                    setMessage('Lis\\xE4ttiin ' + phoneObject.name)\r\n                })\r\n                .catch(error => {\r\n                    console.log('create error', error)\r\n                    setMessage('K\\xE4ytt\\xE4j\\xE4n lis\\xE4\\xE4minen ep\\xE4onnistui')\r\n                })\r\n        }\r\n        //}\r\n\r\n        setTimeout(() => {\r\n            setMessage('')\r\n        }, 5000)\r\n    }\r\n\r\n    const deletePhone = (event) => {\r\n        event.preventDefault()\r\n        let id = window.event.srcElement.value\r\n        let name = persons.find(person => person.id === id).name\r\n\r\n        if (window.confirm(`Haluatko varmasti poistaa k\\xE4ytt\\xE4j\\xE4n ${name}?`)) {\r\n            personService\r\n                .remove(id)\r\n                .then(() => {\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                    setMessage('Poistettiin ' + name)\r\n                })\r\n                .catch(error => {\r\n                    console.log('deletePhone error', error)\r\n                    setMessage('K\\xE4ytt\\xE4j\\xE4 oli jo poistettu kannasta')\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                })\r\n\r\n            setTimeout(() => {\r\n                setMessage('')\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        console.log(event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handlePhoneChange = (event) => {\r\n        console.log(event.target.value)\r\n        setNewPhone(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        console.log(event.target.value)\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    const handleEdit = (event) => {\r\n        let id = window.event.srcElement.value\r\n        console.log('handleEdit',id)\r\n        let person = persons.find(person => person.id === id)\r\n        if (person) {\r\n            console.log('handleEdit person on')\r\n            setEditId(id)\r\n            setNewName(person.name)\r\n            setNewPhone(person.phone)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Puhelinluettelo</h2>\r\n\r\n            <Message message={message} />\r\n\r\n            <Filter\r\n                filter={filter}\r\n                handleFilterChange={handleFilterChange}\r\n            />\r\n\r\n            <form onSubmit={savePhone}>\r\n                <LisaaPuhelin\r\n                    newName={newName}\r\n                    newPhone={newPhone}\r\n                    handleNameChange={handleNameChange}\r\n                    handlePhoneChange={handlePhoneChange}\r\n                    editId={editId}\r\n                />\r\n            </form>\r\n\r\n            <h2>Numerot</h2>\r\n            <Lista\r\n                persons={persons}\r\n                filter={filter}\r\n                deletePhone={deletePhone}\r\n                handleEdit={handleEdit}\r\n            />\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}